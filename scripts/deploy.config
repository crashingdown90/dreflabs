#!/bin/bash
# Deployment Configuration File
# Edit this file to customize your deployment settings

# VPS Configuration
export VPS_IP="148.230.100.44"
export VPS_USER="root"
export VPS_PORT=22
export VPS_DIR="/var/www/dreflabs"

# Project Configuration
export PROJECT_NAME="dreflabs"
export PM2_NAME="dreflabs"
export PM2_PORT=3002
export NODE_VERSION="20"

# Build Configuration
export BUILD_ON_VPS=false        # Set true to build on VPS instead of local
export SKIP_BUILD=false          # Set true to skip build entirely
export CLEAN_BUILD=true          # Set true to clean node_modules before install

# Deployment Options
export BACKUP_BEFORE_DEPLOY=true # Create backup before deployment
export HEALTH_CHECK=true         # Perform health check after deployment
export SETUP_NGINX=true          # Setup/update Nginx configuration
export SETUP_PM2=true            # Setup/update PM2 configuration

# Security Options
export GENERATE_JWT=true         # Generate new JWT secret on deployment
export GENERATE_ADMIN_PASS=true  # Generate new admin password on deployment

# Files to exclude from deployment
export EXCLUDE_PATTERNS=(
    "node_modules"
    ".git"
    ".next"
    "*.log"
    ".DS_Store"
    "*.tar.gz"
    ".env.local"
    "data/*.db"
    "data/*.db-*"
)

# IMPORTANT: DO NOT PUT PASSWORDS HERE!
# Use environment variables or SSH keys instead:
# export VPS_PASS="your-password"  # Set in your shell profile
# Or better: Use SSH keys with ssh-copy-id